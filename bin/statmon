#!/usr/bin/env ruby
$:.unshift File.join( File.dirname(__FILE__), '..', 'lib' )

require 'rubygems'
require 'optparse'
require 'yaml'
require 'stat_mon'

options = {}

opts = OptionParser.new do |opts|
  opts.banner = <<-EOF
Usage:
  Starting:
    statmon [-c <config file>]

  Options:
EOF

  opts.on("-cCONFIG", "--config-file CONFIG", "Configuration file") do |x|
    options[:config] = x
  end
end

opts.parse!

begin
  require 'stat_mon/cli/execute'
  StatMon::CLI::Execute.new(options)
rescue Exception => e
  puts e
end

exit(0) # It's all good!

